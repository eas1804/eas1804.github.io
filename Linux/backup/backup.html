<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Backup</title>
    <link rel="stylesheet" href="../../style.css">
  </head>

<body>
<h2>backup</h2>
<ol>
<li> <a href=json/Readme.html>Readme</a> | <a href=json/info_json.txt>info_json.txt</a>

config.json
<li><a href=json/universal_backup_rsync.sh>Универсальный rsync (ssh or local)</a> |
<a href=json/config.json> universal_config_rsync.json </a> |

<li>rsync+json. Local. 
<a href=json/rsync_local/local_backup_rsync.sh>rsync backup</a> | 
<a href=json/rsync_local/local_config_rsync.json> backup_config_rsync.json </a> |

<li>rsync+json. SSH. 
<a href=json/rsync_ssh/ssh_backup_rsync.sh>rsync ssh backup</a> | 
<a href=json/rsync_ssh/ssh_config_rsync.json> backup_config_rsync.json </a> |
<li>tar+json: <a href=json/tar/backup_script_tar.sh>tar backup</a> | 
<a href=json/tar/backup_config_tar.json> backup_config_tar.json </a> |

<li>Проверка наличия файла архива, созданного сегодня. Размер не менне 4К.
| <a href=testing_backup_zip_tar\today_files.sh>today_files.sh</a> |
<a href=testing_backup_zip_tar\config.json>config.json</a> |

<hr>
<li><a href=2_rsync_smb_tar_ssh-your-storagebox.de.html>rsync in SSH for storagebox.de</a>


<li>Old <a href=1_rsync_smb_tar_ssh-colocall.html>rsync  in SSH</a> |
<a href=Backup_1c.html>Backup 1c</a> |
<a href=tar.html>tar</a>|
<li><a href=Dell_old_file_folder.html>Удаление старых файлов и каталогов</a>
<li><a href=disk_size_info.html>a. Тест  mdadm b. тест свободного места c. Отправить размер удаленного каталога</a>
<li><a href=today.html>Уведомление. В каталоге $DIR нет файлов, которые были созданы сегодня!</a>
</ol>

<h3>rsync. </h3>
<p>rsync [опции] <источник> <назначение>
<h4>Скопировать на удаленный сервер</h4>
<p><code>rsync -avz -e "ssh -p 2222" /mnt/video2/ root@pbs2.mlp.pp.ua:/mnt/video/</code>
<h4>Без сжатия, простое шифрование ssh</h4>
для ускорения копирования
<p><code>rsync -avP -e "ssh -T -c aes128-gcm@openssh.com -o Compression=no" /rpool/soft/ root@172.18.72.3:/rpool/data/soft</code>

<h4>Скопировать c удаленнного сервера в лакальную папку</h4>
<p><code>rsync -avz -e "ssh -p 2222" root@pbs2.mlp.pp.ua:/mnt/video/ /mnt/video/</code>
<li>-a – архивный режим (сохраняет права, владельцев, симлинки и т.п.).
<li>-v – подробный вывод.
<li>-z – сжатие при передаче.



<h3> Отравить файлы в Telegram</h3>
<p><code>curl -F    chat_id=33109821804  https://api.telegram.org/bot18045447450203:AAGEjU7HKEEGle1Zv2an5sVF49QxNxhw03w/sendDocument -F document=@/путь</code></p>
<h3> Отравить сообщение в  Telegram</h3>
<p><code>curl -s -d chat_id=33109821804 -X POST https://api.telegram.org/bot18045447450203:AAGEjU7HKEEGle1Zv2an5sVF49QxNxhw03w/sendMessage  -d text="Ваше сообщение"</code></p>


</body>
  </html>
