<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Restic. forget</title>
    <link rel="stylesheet" href="../style.css">
  </head>
<body>
<h3>–£–¥–∞–ª–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π snapshots.</h3>
<p><code>restic -r [REPO] forget 2590e1ba</code>

<h3>–û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Å–Ω–∏–º–∫–æ–≤ –ø–æ  —Ç–µ–≥—É Medoc, —É–¥–∞–ª–∏–≤ –æ—Å—Ç–∞–ª—å–Ω—ã–µ</h3>
<p><code>restic  -r [REPO] forget --tag Medoc --keep-last 10 --prune</code>
<h3>–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º --dry-run</h3>
<p><code>restic -r [REPO] forget --tag Medoc --keep-last 10 --prune --dry-run</code>
<ol>
<li>--tag Medoc ‚Äì –≤—ã–±–∏—Ä–∞–µ–º —Ç–æ–ª—å–∫–æ —Å–Ω–∞–ø—à–æ—Ç—ã —Å —Ç–µ–≥–æ–º Medoc.
<li>--keep-last 10 ‚Äì –æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Å–Ω–∏–º–∫–æ–≤.
<li>--prune ‚Äì —É–¥–∞–ª—è–µ—Ç –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è —Å–Ω–∞–ø—à–æ—Ç–æ–≤.
</ol>
<p>–ï—Å–ª–∏ –º–Ω–æ–≥–æ —Ä–∞–∑–Ω—ã—Ö —Ç–µ–≥–æ–≤/—Ö–æ—Å—Ç–æ–≤, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å <b>--host <–∏–º—è_—Ö–æ—Å—Ç–∞></b>, —á—Ç–æ–±—ã —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
<pre>
üîπ--keep-last N ‚Äì –ø–æ—Å–ª–µ–¥–Ω–∏–µ N –±—ç–∫–∞–ø–æ–≤
üîπ--keep-daily N ‚Äì –¥–ª—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö N –¥–Ω–µ–π, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–Ω–∏–º–∫–æ–≤, —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ —Å–∞–º—ã–π –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–Ω–∏–º–æ–∫ –∑–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
üîπ--keep-within-daily duration ‚Äì —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ø–æ –æ–¥–Ω–æ–º—É –ø–æ—Å–ª–µ–¥–Ω–µ–º—É —Å–Ω–∏–º–∫—É, —Å–¥–µ–ª–∞–Ω–Ω–æ–º—É –≤ —Ç–µ—á–µ–Ω–∏–µ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ duration.

–ò —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—Ç—Ä–µ–∑–∫–æ–≤. –ù–∞–≥–ª—è–¥–Ω—ã–π —Ç–∏–ø–æ–≤–æ–π –ø—Ä–∏–º–µ—Ä –ø–æ–ª–∏—Ç–∏–∫–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è:

--keep-within-daily 7d --keep-within-weekly 1m --keep-within-monthly 1y

–•—Ä–∞–Ω–∏–º 7 –¥–Ω–µ–≤–Ω—ã—Ö –±—ç–∫–∞–ø–æ–≤, 4 –Ω–µ–¥–µ–ª—å–Ω—ã—Ö, 12 –º–µ—Å—è—á–Ω—ã—Ö.
</pre>

<h3>–û—à–∏–±–∫–∞ repo already locked</h3>
<p><code>restic -r [REPO] unlock</code>
<hr>

<h3>–°—Ç—Ä–∞—Ç–µ–≥–∏—è</h3>
<h4>–ö–∞–∂–¥—ã–π –¥–µ–Ω—å</h4>
<table><tr><td><pre>
restic -r [REPO] forget --tag Medoc --keep-last 10
restic -r [REPO] forget --tag 1—Å --keep-last 10
restic -r [REPO] forget --tag SQL --keep-last 10
restic -r [REPO] forget --tag users --keep-last 10
</pre></td></tr></table>
<p>–£–¥–∞–ª—è—é—Ç—Å—è –∑–∞–ø–∏—Å–∏ –æ –ª–∏—à–Ω–∏—Ö —Å–Ω–∞–ø—à–æ—Ç–∞—Ö –ø–æ –∫–∞–∂–¥–æ–º—É —Ç–µ–≥—É.
<p>–†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –µ—â—ë –æ—Å—Ç–∞—é—Ç—Å—è –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, —Ç–∞–∫ —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –±—ã—Å—Ç—Ä—ã–π.
<p>–ú–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤ –æ–¥–∏–Ω –∑–∞–ø—É—Å–∫:
<p><code>restic -r [REPO] forget --tag Medoc --tag 1—Å --tag SQL --tag users --keep-last 10</code>
	
<h4>–†–∞–∑ –≤ –Ω–µ–¥–µ–ª—é</h4>
<p><code>restic -r [REPO] prune</code>
<p>–ü–µ—Ä–µ–ø–∞–∫–æ–≤—ã–≤–∞—é—Ç—Å—è –∏ —É–¥–∞–ª—è—é—Ç—Å—è –≤—Å–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–ª–æ–∫–∏.
<p>–ü—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–ª–≥–∏–º, –Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ä–µ–¥–∫–æ.
<p>–ü–æ—Å–ª–µ prune –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ —Ä–µ–∞–ª—å–Ω–æ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è.
</body>

